# Ques 4.3

- 请从“档案馆结构优化”（表结构设计）和“咒语咏唱技巧”（SQL查询优化）两个方面，提出你的优化建议。如果你还能联想到如何借助外部魔法奇物（如Redis缓存）来与MySQL协同，加速查询，你将获得极高的评价

表结构设计：

1.给status添加索引。

2.直接将”已支付“与”待支付，已取消“按照现实意义分在不同表中，”已支付“可以代表这个订单已经完成，而其他的则表示没有成功进行订单，可以划入”未完成订单“表中。

3.将status的varchar类型变为enum类型，加快字符比较的速度，同时还能节约内存。

4.按照订单创建的时间段分组，比如”7天内，14天内，30天内，更早“，这样可以方便后续的条件查询，且更有现实意义。

SQL查询优化：

1.如果只想查询已支付的订单，没有必要显示订单信息中的全部字段，可以按照需要选择，加快查询。

2.增加一些过滤条件，可以按时段查询最近支付的订单。

3.给结果分页。

其他：

设计redis缓存，缓存热点数据与支付状态，直接从内存返回查询结果。