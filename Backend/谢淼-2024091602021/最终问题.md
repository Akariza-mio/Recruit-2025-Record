# Ques final

本程序基于Maven使用Mybatis作为持久化框架，lombok简化了代码编辑，logback构建了日志系统。实现了宠物，领养人，领养记录的管理，并且采用了工厂设计模式，集成了管理功能，并且注释到位，对于一些异常行为写了提示。

==遇到问题==：在测试数据库操作时报错。

==解决方式==：第一个错误是因为数据库名字没写对，遂改正。第二个错误是mapper映射的路径没写对，遂改正。第三个错误是发现数据库中的数据并没有变化，原因是没有提交事务，增加commit后成功。

==遇到问题==：对于默认的字段值，在java中传入参数时，不传会报错，传又不知道传什么，传null发现not null值也会被设为null.

==解决方式==：修改了构造函数和mapper映射规则，不再传入默认量，这样数据库就可以自己控制默认值。

==遇到问题==：每次运行程序都会警告

==解决方式==：原来是jdbc驱动版本低，更新了jdbc驱动

==遇到问题==：配置mapper映射文件出现了各种错误，其中有格式没写对的，类型不对的。

==解决方式==：逐一修改。

==遇到问题==：按理说，这个触发器会让删除宠物或领养人的领养记录一起删除，但是表上还有个restrict外键......不懂为什么这二者会出现在一起

==解决方式==：想实现效果只需要去掉外键就可以了。

关于领养人的注册和登录，注册就是添加领养人，登录能做的事理论上只有修改信息，所以在update处设计了密码验证作为登录。

修改了一些模板代码中的细节，为领养记录新增了修改领养记录功能，同时根据领养记录的修改，宠物的领养状态会发生改变。

所有功能都经过了测试，相关图片在完整代码文件夹里